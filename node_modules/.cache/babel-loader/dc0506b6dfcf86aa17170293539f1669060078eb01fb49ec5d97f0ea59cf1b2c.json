{"ast":null,"code":"var _jsxFileName = \"/Users/miko/Documents/Project/real_projects/Snipix_web/src/components/TimelineTrack.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrackContainer = styled.div`\n  height: 80px;\n  border-bottom: 1px solid ${({\n  theme\n}) => theme.colors.border};\n  position: relative;\n  background: ${({\n  theme\n}) => theme.colors.surface};\n  display: flex;\n  align-items: center;\n  padding: 0;\n`;\n_c = TrackContainer;\nconst TrackHeader = styled.div`\n  width: 120px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n  border-right: 1px solid ${({\n  theme\n}) => theme.colors.border};\n  background: ${({\n  theme\n}) => theme.colors.surfaceHover};\n  flex-shrink: 0;\n`;\nconst TrackName = styled.div`\n  color: ${({\n  theme\n}) => theme.colors.text};\n  font-size: 0.875rem;\n  font-weight: 500;\n  flex: 1;\n`;\nconst TrackControls = styled.div`\n  display: flex;\n  gap: 4px;\n`;\nconst TrackControl = styled.button`\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: ${({\n  theme,\n  $active\n}) => $active ? theme.colors.primary : 'transparent'};\n  color: ${({\n  theme,\n  $active\n}) => $active ? 'white' : theme.colors.textSecondary};\n  border-radius: 2px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  \n  &:hover {\n    background: ${({\n  theme\n}) => theme.colors.primary + '20'};\n  }\n`;\nconst TrackContent = styled.div`\n  flex: 1;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`;\n_c2 = TrackContent;\nconst ClipContainer = styled.div`\n  position: absolute;\n  left: ${({\n  $left\n}) => $left}px;\n  top: 10px;\n  bottom: 10px;\n  width: ${({\n  $width\n}) => $width}px;\n  background: ${({\n  theme,\n  $type,\n  $isSelected\n}) => {\n  if ($isSelected) return theme.colors.primary + '40';\n  switch ($type) {\n    case 'video':\n      return theme.colors.primary + '20';\n    case 'audio':\n      return theme.colors.secondary + '20';\n    case 'text':\n      return theme.colors.success + '20';\n    case 'effect':\n      return theme.colors.warning + '20';\n    default:\n      return theme.colors.surfaceHover;\n  }\n}};\n  border: 2px solid ${({\n  theme,\n  $isSelected\n}) => $isSelected ? theme.colors.primary : theme.colors.border};\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  color: ${({\n  theme\n}) => theme.colors.text};\n  user-select: none;\n  \n  &:hover {\n    border-color: ${({\n  theme\n}) => theme.colors.primary};\n  }\n`;\n_c3 = ClipContainer;\nconst ClipLabel = styled.div`\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n  padding: 0 4px;\n`;\n_c4 = ClipLabel;\nconst ResizeHandle = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 6px;\n  cursor: ${({\n  $side\n}) => $side === 'left' ? 'w-resize' : 'e-resize'};\n  background: ${({\n  theme\n}) => theme.colors.primary + '20'};\n  \n  &:hover {\n    background: ${({\n  theme\n}) => theme.colors.primary + '40'};\n  }\n`;\n_c5 = ResizeHandle;\nconst TimelineTrack = ({\n  layer,\n  zoom,\n  playheadTime,\n  selectedClips,\n  onClipClick,\n  onClipMove\n}) => {\n  _s();\n  // Convert time to pixels\n  const timeToPixels = useCallback(time => {\n    const pixelsPerSecond = 100; // Base pixels per second\n    return time * pixelsPerSecond * zoom;\n  }, [zoom]);\n\n  // Convert pixels to time\n  const pixelsToTime = useCallback(pixels => {\n    const pixelsPerSecond = 100;\n    return pixels / (pixelsPerSecond * zoom);\n  }, [zoom]);\n\n  // Handle clip dragging\n  const handleClipDrag = useCallback((clipId, initialX) => {\n    return ({\n      movement: [mx]\n    }) => {\n      const deltaTime = pixelsToTime(mx);\n      const clip = layer.clips.find(c => c.id === clipId);\n      if (clip) {\n        const newStartTime = Math.max(0, clip.startTime + deltaTime);\n        onClipMove(clipId, newStartTime);\n      }\n    };\n  }, [layer.clips, pixelsToTime, onClipMove]);\n\n  // Handle clip resizing\n  const handleClipResize = useCallback((clipId, side, initialWidth) => {\n    return ({\n      movement: [mx]\n    }) => {\n      const deltaTime = pixelsToTime(mx);\n      const clip = layer.clips.find(c => c.id === clipId);\n      if (clip) {\n        if (side === 'left') {\n          const newStartTime = Math.max(0, clip.startTime + deltaTime);\n          const newDuration = Math.max(0.1, clip.duration - deltaTime);\n          // Update clip start time and duration\n        } else {\n          const newDuration = Math.max(0.1, clip.duration + deltaTime);\n          // Update clip duration\n        }\n      }\n    };\n  }, [layer.clips, pixelsToTime]);\n  return /*#__PURE__*/_jsxDEV(TrackContainer, {\n    children: /*#__PURE__*/_jsxDEV(TrackContent, {\n      children: layer.clips.map(clip => {\n        const left = timeToPixels(clip.startTime);\n        const width = timeToPixels(clip.duration);\n        const isSelected = selectedClips.includes(clip.id);\n        return /*#__PURE__*/_jsxDEV(ClipContainer, {\n          $left: left,\n          $width: width,\n          $isSelected: isSelected,\n          $type: clip.type,\n          onClick: e => onClipClick(clip.id, e),\n          onMouseDown: e => {\n            // Handle drag start\n            const handleDrag = e => {\n              const deltaX = e.clientX - e.clientX;\n              const deltaTime = pixelsToTime(deltaX);\n              const currentClip = layer.clips.find(c => c.id === clip.id);\n              if (currentClip) {\n                const newStartTime = Math.max(0, currentClip.startTime + deltaTime);\n                onClipMove(clip.id, newStartTime);\n              }\n            };\n            const handleMouseMove = e => handleDrag(e);\n            const handleMouseUp = () => {\n              document.removeEventListener('mousemove', handleMouseMove);\n              document.removeEventListener('mouseup', handleMouseUp);\n            };\n            document.addEventListener('mousemove', handleMouseMove);\n            document.addEventListener('mouseup', handleMouseUp);\n          },\n          children: [/*#__PURE__*/_jsxDEV(ClipLabel, {\n            children: clip.content || clip.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ResizeHandle, {\n            $side: \"left\",\n            style: {\n              left: 0\n            },\n            onMouseDown: e => {\n              e.stopPropagation();\n              // Handle left resize\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ResizeHandle, {\n            $side: \"right\",\n            style: {\n              right: 0\n            },\n            onMouseDown: e => {\n              e.stopPropagation();\n              // Handle right resize\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)]\n        }, clip.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(TimelineTrack, \"12CSpZVJFqGbVXg4QTRKVHRkuI8=\");\n_c6 = TimelineTrack;\nexport default TimelineTrack;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"TrackContainer\");\n$RefreshReg$(_c2, \"TrackContent\");\n$RefreshReg$(_c3, \"ClipContainer\");\n$RefreshReg$(_c4, \"ClipLabel\");\n$RefreshReg$(_c5, \"ResizeHandle\");\n$RefreshReg$(_c6, \"TimelineTrack\");","map":{"version":3,"names":["React","useCallback","styled","jsxDEV","_jsxDEV","TrackContainer","div","theme","colors","border","surface","_c","TrackHeader","surfaceHover","TrackName","text","TrackControls","TrackControl","button","$active","primary","textSecondary","TrackContent","_c2","ClipContainer","$left","$width","$type","$isSelected","secondary","success","warning","_c3","ClipLabel","_c4","ResizeHandle","$side","_c5","TimelineTrack","layer","zoom","playheadTime","selectedClips","onClipClick","onClipMove","_s","timeToPixels","time","pixelsPerSecond","pixelsToTime","pixels","handleClipDrag","clipId","initialX","movement","mx","deltaTime","clip","clips","find","c","id","newStartTime","Math","max","startTime","handleClipResize","side","initialWidth","newDuration","duration","children","map","left","width","isSelected","includes","type","onClick","e","onMouseDown","handleDrag","deltaX","clientX","currentClip","handleMouseMove","handleMouseUp","document","removeEventListener","addEventListener","content","fileName","_jsxFileName","lineNumber","columnNumber","style","stopPropagation","right","_c6","$RefreshReg$"],"sources":["/Users/miko/Documents/Project/real_projects/Snipix_web/src/components/TimelineTrack.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport { useGesture } from 'react-use-gesture';\nimport { Layer, Clip } from '../types';\n\nconst TrackContainer = styled.div`\n  height: 80px;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n  position: relative;\n  background: ${({ theme }) => theme.colors.surface};\n  display: flex;\n  align-items: center;\n  padding: 0;\n`;\n\nconst TrackHeader = styled.div`\n  width: 120px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n  border-right: 1px solid ${({ theme }) => theme.colors.border};\n  background: ${({ theme }) => theme.colors.surfaceHover};\n  flex-shrink: 0;\n`;\n\nconst TrackName = styled.div`\n  color: ${({ theme }) => theme.colors.text};\n  font-size: 0.875rem;\n  font-weight: 500;\n  flex: 1;\n`;\n\nconst TrackControls = styled.div`\n  display: flex;\n  gap: 4px;\n`;\n\nconst TrackControl = styled.button<{ $active?: boolean }>`\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: ${({ theme, $active }) => $active ? theme.colors.primary : 'transparent'};\n  color: ${({ theme, $active }) => $active ? 'white' : theme.colors.textSecondary};\n  border-radius: 2px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  \n  &:hover {\n    background: ${({ theme }) => theme.colors.primary + '20'};\n  }\n`;\n\nconst TrackContent = styled.div`\n  flex: 1;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`;\n\nconst ClipContainer = styled.div<{ \n  $left: number; \n  $width: number; \n  $isSelected: boolean;\n  $type: string;\n}>`\n  position: absolute;\n  left: ${({ $left }) => $left}px;\n  top: 10px;\n  bottom: 10px;\n  width: ${({ $width }) => $width}px;\n  background: ${({ theme, $type, $isSelected }) => {\n    if ($isSelected) return theme.colors.primary + '40';\n    switch ($type) {\n      case 'video': return theme.colors.primary + '20';\n      case 'audio': return theme.colors.secondary + '20';\n      case 'text': return theme.colors.success + '20';\n      case 'effect': return theme.colors.warning + '20';\n      default: return theme.colors.surfaceHover;\n    }\n  }};\n  border: 2px solid ${({ theme, $isSelected }) => \n    $isSelected ? theme.colors.primary : theme.colors.border};\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  color: ${({ theme }) => theme.colors.text};\n  user-select: none;\n  \n  &:hover {\n    border-color: ${({ theme }) => theme.colors.primary};\n  }\n`;\n\nconst ClipLabel = styled.div`\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n  padding: 0 4px;\n`;\n\nconst ResizeHandle = styled.div<{ $side: 'left' | 'right' }>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 6px;\n  cursor: ${({ $side }) => $side === 'left' ? 'w-resize' : 'e-resize'};\n  background: ${({ theme }) => theme.colors.primary + '20'};\n  \n  &:hover {\n    background: ${({ theme }) => theme.colors.primary + '40'};\n  }\n`;\n\ninterface TimelineTrackProps {\n  layer: Layer;\n  zoom: number;\n  playheadTime: number;\n  selectedClips: string[];\n  onClipClick: (clipId: string, event: React.MouseEvent) => void;\n  onClipMove: (clipId: string, newStartTime: number) => void;\n}\n\nconst TimelineTrack: React.FC<TimelineTrackProps> = ({\n  layer,\n  zoom,\n  playheadTime,\n  selectedClips,\n  onClipClick,\n  onClipMove\n}) => {\n  // Convert time to pixels\n  const timeToPixels = useCallback((time: number) => {\n    const pixelsPerSecond = 100; // Base pixels per second\n    return time * pixelsPerSecond * zoom;\n  }, [zoom]);\n\n  // Convert pixels to time\n  const pixelsToTime = useCallback((pixels: number) => {\n    const pixelsPerSecond = 100;\n    return pixels / (pixelsPerSecond * zoom);\n  }, [zoom]);\n\n  // Handle clip dragging\n  const handleClipDrag = useCallback((clipId: string, initialX: number) => {\n    return ({ movement: [mx] }: any) => {\n      const deltaTime = pixelsToTime(mx);\n      const clip = layer.clips.find(c => c.id === clipId);\n      if (clip) {\n        const newStartTime = Math.max(0, clip.startTime + deltaTime);\n        onClipMove(clipId, newStartTime);\n      }\n    };\n  }, [layer.clips, pixelsToTime, onClipMove]);\n\n  // Handle clip resizing\n  const handleClipResize = useCallback((clipId: string, side: 'left' | 'right', initialWidth: number) => {\n    return ({ movement: [mx] }: any) => {\n      const deltaTime = pixelsToTime(mx);\n      const clip = layer.clips.find(c => c.id === clipId);\n      if (clip) {\n        if (side === 'left') {\n          const newStartTime = Math.max(0, clip.startTime + deltaTime);\n          const newDuration = Math.max(0.1, clip.duration - deltaTime);\n          // Update clip start time and duration\n        } else {\n          const newDuration = Math.max(0.1, clip.duration + deltaTime);\n          // Update clip duration\n        }\n      }\n    };\n  }, [layer.clips, pixelsToTime]);\n\n  return (\n    <TrackContainer>\n      <TrackContent>\n        {layer.clips.map((clip) => {\n          const left = timeToPixels(clip.startTime);\n          const width = timeToPixels(clip.duration);\n          const isSelected = selectedClips.includes(clip.id);\n\n          return (\n            <ClipContainer\n              key={clip.id}\n              $left={left}\n              $width={width}\n              $isSelected={isSelected}\n              $type={clip.type}\n              onClick={(e) => onClipClick(clip.id, e)}\n              onMouseDown={(e) => {\n                // Handle drag start\n                const handleDrag = (e: MouseEvent) => {\n                  const deltaX = e.clientX - e.clientX;\n                  const deltaTime = pixelsToTime(deltaX);\n                  const currentClip = layer.clips.find(c => c.id === clip.id);\n                  if (currentClip) {\n                    const newStartTime = Math.max(0, currentClip.startTime + deltaTime);\n                    onClipMove(clip.id, newStartTime);\n                  }\n                };\n                \n                const handleMouseMove = (e: MouseEvent) => handleDrag(e);\n                const handleMouseUp = () => {\n                  document.removeEventListener('mousemove', handleMouseMove);\n                  document.removeEventListener('mouseup', handleMouseUp);\n                };\n                \n                document.addEventListener('mousemove', handleMouseMove);\n                document.addEventListener('mouseup', handleMouseUp);\n              }}\n            >\n              <ClipLabel>\n                {clip.content || clip.type}\n              </ClipLabel>\n              \n              <ResizeHandle \n                $side=\"left\" \n                style={{ left: 0 }}\n                onMouseDown={(e) => {\n                  e.stopPropagation();\n                  // Handle left resize\n                }}\n              />\n              <ResizeHandle \n                $side=\"right\" \n                style={{ right: 0 }}\n                onMouseDown={(e) => {\n                  e.stopPropagation();\n                  // Handle right resize\n                }}\n              />\n            </ClipContainer>\n          );\n        })}\n      </TrackContent>\n    </TrackContainer>\n  );\n};\n\nexport default TimelineTrack;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}